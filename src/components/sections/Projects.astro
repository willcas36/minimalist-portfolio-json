---
import Section from '../Section.astro';
import { projects } from '@/cv';
---

<Section title="Projects">
   <ul>
      {
         projects.map(
            ({ url, description, highlights, name, github, isActive }) => {
               return (
                  <li>
                     <article>
                        <header>
                           <h3>
                              <a href={url} title={`View the project ${name}`}>
                                 {name}
                              </a>
                              {isActive && <span>&bull;</span>}
                           </h3>
                           <p>{description}</p>
                        </header>
                        <footer>
                           {highlights &&
                              highlights.map((highlight) => (
                                 <span>{highlight}</span>
                              ))}
                        </footer>
                     </article>
                  </li>
               );
            }
         )
      }
   </ul>
</Section>

<style>
   ul {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-inline: -1;
   }
   article {
      border-radius: 8px;
      border: 1px solid #f2f2f2;
      gap: 16px;
      display: flex;
      flex-direction: column;
      padding: 16px;
      height: 100%;
   }
   article header {
      flex: 1;
   }
   article h3 {
      margin-bottom: 4px;
   }
   article a {
      color: #111;
   }
   article a:hover {
      text-decoration: underline;
   }
   article p {
      font-size: 0.75rem;
      line-height: 1rem;
      margin-bottom: 4px;
   }
   article h3 span {
      color: rgb(0, 188, 64);
   }
   footer {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      font-size: 0.55rem;
   }
   footer span {
      border-radius: 6px;
      background: #eee;
      color: #444;
      font-weight: 500;
      padding: 0.2rem 0.6rem;
      cursor: pointer;
      display: inline-flex;
   }
</style>
